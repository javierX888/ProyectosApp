<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Pasajero</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cerrarSesion()">
        <ion-icon name="log-out-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Header de bienvenida -->
  <div class="welcome-header ion-padding">
    <div class="user-info">
      <ion-avatar>
        <ion-icon name="person-outline" class="avatar-icon"></ion-icon>
      </ion-avatar>
      <div class="user-details">
        <h1>¡Bienvenido, {{ nombreUsuario }}!</h1>
        <p>Pasajero TeLlevoAPP</p>
      </div>
    </div>
  </div>

  <!-- Estadísticas -->
  <ion-grid class="stats-grid ion-padding">
    <ion-row>
      <ion-col size="6">
        <div class="stat-card">
          <ion-icon name="car-sport-outline" color="primary"></ion-icon>
          <h3>{{ viajesReservados }}</h3>
          <p>Viajes Reservados</p>
        </div>
      </ion-col>
      <ion-col size="6">
        <div class="stat-card">
          <ion-icon name="checkmark-circle-outline" color="success"></ion-icon>
          <h3>{{ viajesCompletados }}</h3>
          <p>Viajes Completados</p>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Acciones Principales -->
  <div class="main-actions ion-padding">
    <ion-button expand="block" class="action-button" (click)="buscarViaje()">
      <ion-icon name="search-outline" slot="start"></ion-icon>
      Buscar Viaje
    </ion-button>

    <ion-button expand="block" class="action-button" fill="outline" (click)="verViajesReservados()">
      <ion-icon name="list-outline" slot="start"></ion-icon>
      Viajes Reservados
    </ion-button>
  </div>

  <!-- Próximos Viajes -->
  <div class="viajes-section ion-padding">
    <div class="section-header">
      <h2>Próximos Viajes</h2>
      <ion-button fill="clear" (click)="verViajesReservados()">
        Ver todos
        <ion-icon name="arrow-forward-outline" slot="end"></ion-icon>
      </ion-button>
    </div>

    <ion-list>
      <ion-item *ngFor="let viaje of proximosViajes">
        <ion-label>
          <h2>{{ viaje.destino }}</h2>
          <p>{{ formatearFecha(viaje.fecha) }}</p>
          <p>Vehículo: {{ viaje.vehiculo.modeloVehiculo }} - {{ viaje.vehiculo.patente }}</p>
        </ion-label>
        <ion-badge color="{{ getEstadoColor(viaje.estado) }}">{{ viaje.estado }}</ion-badge>
      </ion-item>
    </ion-list>
  </div>
</ion-content>

<!-- Footer con navegación -->
<ion-footer>
  <ion-toolbar>
    <ion-tabs>
      <ion-tab-bar slot="bottom">
        <ion-tab-button tab="dashboard" selected>
          <ion-icon name="speedometer-outline"></ion-icon>
          <ion-label>Dashboard</ion-label>
        </ion-tab-button>

        <ion-tab-button (click)="buscarViaje()">
          <ion-icon name="search-outline"></ion-icon>
          <ion-label>Buscar</ion-label>
        </ion-tab-button>

        <ion-tab-button (click)="verViajesReservados()">
          <ion-icon name="list-outline"></ion-icon>
          <ion-label>Mis Viajes</ion-label>
        </ion-tab-button>

        <ion-tab-button (click)="verHistorial()">
          <ion-icon name="time-outline"></ion-icon>
          <ion-label>Historial</ion-label>
        </ion-tab-button>
      </ion-tab-bar>
    </ion-tabs>
  </ion-toolbar>
</ion-footer>
